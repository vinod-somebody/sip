<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <!-- <header>

    </header> -->
    <div class="container main-content p-5 mt-5 justify-content-center" style="width: 45%;">
        <form id="form">
            <div class="mb-3">
                <label for="amount" class="form-label">Amount (₹)</label>
                <input type="text" class="form-control" name="amount" id="amount">
            </div>
            <div class="mb-3">
                <label for="years" class="form-label">Duration (in years)</label>
                <input type="number" class="form-control" id="years">
            </div>
            <div class="mb-3">
                <label for="interest" class="form-label">Expected return (%)</label>
                <input type="text" class="form-control" id="interest">
            </div>
            <button type="button" onclick="showResult()" class="btn btn-primary">Calculate</button>
        </form>
        <div id="result" class="container" style="display: none;">
            <div class="row">
                <div class="col-md-6">
                    <table class="table">
                        <tr>
                            <td>Monthly Installment</td>
                            <td><h5 id="resultAmount"></h5></td>
                        </tr>
                        <tr>
                            <td>Number of Years</td>
                            <td><h5 id="resultYears"></h5></td>
                        </tr>
                        <tr>
                            <td>Expected Rate of Return</td>
                            <td><h5 id="resultRate"></h5></td>
                        </tr>
                    </table>
                </div>
                <div class="col-md-6">
                    <table class="table">
                        <tr>
                            <td>Total Investment</td>
                            <td>
                                ₹<h4 id="totalInvestment"></h4>
                            </td>
                        </tr>
                        <tr>
                            <td>Wealth Gained</td>
                            <td>
                                ₹<h4 id="wealthGained"></h4>
                            </td>
                        </tr>
                        <tr>
                            <td>Maturity Value</td>
                            <td>
                                ₹<h4 id="maturityValue"></h4>
                            </td>
                        </tr>
                    </table>
                </div>
                <button type="button" onclick="showResult()" class="btn btn-primary">Calculate Again</button>
            </div>
        </div>
    </div>
    <script>
        // commas = (x) => {
        //     let amount = document.getElementById("investment").value;
        //     let temp = amount.split(" ")
        //     if (temp.includes("Rs")) {
        //         amount = amount.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        //     } else {
        //         amount = amount.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        //         document.getElementById("investment").value = amount;
        //     }
        // }

        function showResult() {
            // alert('clicked');
            var amount = document.getElementById("amount").value;
            var years = document.getElementById("years").value;
            var interest = document.getElementById("interest").value;
            // console.log(amount);
            // console.log(years);
            // console.log(returnRate);
            var totalInvestment = amount * years * 12;
            // console.log(totalInvestment);
            
            returnRate = interest / 100 / 12;
            months = years * 12;
            x = Math.pow((1 + returnRate), months) - 1;
            var wealthGained = Math.round(amount * x * ((1 + returnRate) / returnRate));
            // total = (amount * 12) * years;
            // console.log(wealthGained);
            var maturityValue = wealthGained - totalInvestment;
            document.getElementById("resultAmount").textContent = amount;
            document.getElementById("resultYears").textContent = years;
            document.getElementById("resultRate").textContent = interest;
            document.getElementById("totalInvestment").textContent = totalInvestment;
            document.getElementById("wealthGained").textContent = wealthGained;
            document.getElementById("maturityValue").textContent = maturityValue;

            if (document.getElementById("form").style.display == 'none') {
                document.getElementById("form").style.display = 'block';
                document.getElementById("result").style.display = 'none';
            } else {
                document.getElementById("form").style.display = 'none';
                document.getElementById("result").style.display = 'block';
            }
        }
    </script>
</body>

</html>